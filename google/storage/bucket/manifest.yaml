name: storage-bucket
display_name: Cloud Storage Bucket
type: storage
description: "Creates GCS buckets with versioning, lifecycle rules, and labels"
deployment:
  terraform: ./module
runtime:
  go_module: github.com/raksiv/infra-as-code/google/storage/bucket

inputs:
  bucket_name:
    type: string
    required: true
    description: "The name of the bucket (e.g. `my-bucket-name`)"
  project_id:
    type: string
    required: true
    description: "The GCP project ID (e.g. `my-project-123`)"
  location:
    type: string
    default: "US"
    description: "The location of the bucket (e.g. `US`, `us-central1`, `EU`)"
  force_destroy:
    type: bool
    default: false
    description: "When deleting a bucket, delete all objects in it first (e.g. `false`)"
  versioning_enabled:
    type: bool
    default: false
    description: "Enable versioning for the bucket (e.g. `false`)"
  lifecycle_rules:
    type: list(object)
    default: []
    description: "Lifecycle rules for the bucket (e.g. delete after 30 days, archive to Nearline)"
  labels:
    type: map(string)
    default: {}
    description: 'Labels to apply to the bucket (e.g. `{"environment": "prod", "team": "platform"}`)'

outputs:
  bucket_name:
    description: "Name of the created bucket"
  bucket_url:
    description: "URL of the bucket"
